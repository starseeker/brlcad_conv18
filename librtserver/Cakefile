/*
 *			librtserver/Cakefile
 */
#define SRCDIR	librtserver
#define FILES	rtserver
#define	SRCSUFF	.c
#define VERSION_VARIABLE	rtserver_version
#define LIBRARY_TITLE		"The BRL-CAD Ray-Tracing Server library"
#define MANSECTION	3

#include "../Cakefile.defs"

#if defined __ppc__
#  define PRODUCTS	librtserver.jnilib
#elif defined JNI_INC
#  define PRODUCTS	librtserver.ARCH_SUF
#else
#  undef PRODUCTS
#endif

#undef CONFIGDEFS
#if defined __ppc__
#  undef RANLIB
#  undef BUILD_LIBRARY
#  define RANLIB	true
#  define CONFIGDEFS	/**/
#  define BUILD_LIBRARY	cc -bundle -framework JavaVM -o
#elif defined JNI_INC
#  define CONFIGDEFS	JNI_INC
#else
#  define CONFIGDEFS	/**/
#endif

/* Oddly, this line needs to be present to keep IBM AIX cpp happy. */
#ifdef FAST_SQRT
#	define	EXTRA_OBJ	FAST_SQRT
#else
#	define	EXTRA_OBJ	/**/
#endif

#define EXTRA_OBJ_NO_DEPENDENCY -L../.librt.''MTYPE -lrt -L../.libbn.''MTYPE -lbn -L../.libbu.''MTYPE -lbu -L../.libtcl8.4.''MTYPE -ltcl8.4

#ifdef PRODUCTS
#include "../Cakefile.lib"
#include "../Cakefile.rules"
#else

dummy&:
	@echo "Nothing to do here, JNI_INC must be defined (in Cakefile.defs) to the directory where jni.h is located"

#endif
