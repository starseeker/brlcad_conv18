/*
 *			mged/Cakefile
 */
#define	CONFIGDEFS	MGED_CONFIG

#define SRCDIR	mged
#define PRODUCTS	mged cad_boundp cad_parea
#define STATIC_PRODUCTS mged.tcl
#define	SRCSUFF	.c
#define MANSECTION	1

#define FILES	ged dodraw dozoom titles scroll \
			usepen dir columns mover tedit \
			cmd chgview chgmodel chgtree \
			rtif anal typein predictor \
			buttons clip menu adc edsol edarb \
			proc_reg hideline polyif red \
			mater plot overlay inside \
			concat utility1 utility2 track arbs \
			facedef arb set animedit db comb_std \
			bool_rewrite solids_on_ray history \
			TCP_FILES attach dm-tek dm-plot dm-ps \
			dm-tek4109 MGED_OBJS

#include "../Cakefile.defs"
#include "../Cakefile.prog"

#if HAS_TCP
#    define COMPLETE_LIBES	\
	LIBPKG LIBWDB LIBRT LIBRT_LIBES MGED_LIBES LIBTERMIO LIBES
#    define	TCP_FILES	vrlink
#else
#    define COMPLETE_LIBES	\
	LIBWDB LIBRT LIBRT_LIBES MGED_LIBES LIBTERMIO LIBES
#    define	TCP_FILES	/**/
#endif

mged:	OBJ LIBRT_DEP LIBWDB_DEP LIBTCL_DEP LIBTK_DEP LIBREDBLACK_DEP comb_bool_parse.o
	sh ../newvers.sh version "Graphics Editor (MGED)"
	CC CFLAGS -c vers.c
	CC -o mged LDFLAGS OBJ comb_bool_parse.o LIBTCL LIBTK LIBREDBLACK COMPLETE_LIBES vers.o

cad_boundp: cad_boundp.o
	CC -o cad_boundp LDFLAGS cad_boundp.o LIBES

cad_parea: cad_parea.o
	CC -o cad_parea LDFLAGS cad_parea.o LIBES

comb_bool_parse.o:	comb_bool_parse.y
	yacc ../mged/comb_bool_parse.y
	mv y.tab.c ../mged/comb_bool_parse.c
	CC ../mged/comb_bool_parse.c

#include "../Cakefile.rules"
