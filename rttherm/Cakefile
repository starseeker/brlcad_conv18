/*
 *			rttherm/Cakefile
 *
 *  $Header$
 */

/* This shows up in CFLAGS */
#define CONFIGDEFS	RT_CONFIG -DRT_MULTISPECTRAL

#define SRCDIR	rttherm
#define PRODUCTS	rttherm disp
#define	SRCSUFF	.c
#define MANSECTION	1

#include "../Cakefile.defs"
#include "../Cakefile.prog"

/* light.h material.h mathtab.h rad.h rdebug.h */
#define FILES	\
	viewtherm disp

#if NFS
#	define	RTDIR	../.rt.MTYPE
#else
#	define	RTDIR	../rt
#endif

/*  The "top-half" (user interface) for the RT family of programs */
#define RTUIF	RTDIR/main.o RTDIR/opt.o RTDIR/do.o RTDIR/worker.o RTDIR/mathtab.o

/* Specially compiled versions */
refract.o: ../rt/refract.c
	CC CFLAGS -c ../rt/refract.c

/* Explicit composition of each product */

#define RTTHERM_OBJ	RTUIF viewtherm.o RTDIR/wray.o spectrum.o

rttherm:	RTTHERM_OBJ LIBMULTISPECTRAL_DEP LIBRT_DEP LIBBN_DEP LIBBU_DEP LIBFB_DEP
	newvers.sh version "Thermal RT"
	CC CFLAGS -c vers.c
	CC LDFLAGS RTTHERM_OBJ vers.o LIBMULTISPECTRAL LIBRT LIBBN LIBFB LIBFB_LIBES LIBBU LIBBU_LIBES LIBES -o rttherm

/* Temp hack -Mike */
disp:	disp.o LIBRT_DEP LIBBN_DEP LIBBU_DEP LIBFB_DEP LIBTCL_DEP LIBTK_DEP spectrum.o
	CC LDFLAGS disp.o spectrum.o LIBRT LIBBN LIBBU LIBBU_LIBES LIBWDB LIBTK LIBTCL LIBTCL_LIBES LIBFB LIBFB_LIBES LIBES -o disp

pixtest: pixtest.o LIBRT_DEP LIBBN_DEP LIBBU_DEP LIBTCL_DEP LIBTK_DEP spectrum.o
	CC LDFLAGS pixtest.o spectrum.o LIBRT LIBBN LIBBU LIBBU_LIBES LIBWDB LIBTK LIBTCL LIBTCL_LIBES LIBFB LIBFB_LIBES LIBES -o pixtest

#include "../Cakefile.rules"
