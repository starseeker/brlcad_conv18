create database of all primitives
create one of each primi


make r4
raytrace
make r5
raytrace
compare images

make r4
raytrace
dbupgrade
raytrace
compare images

Database was created with a previous release of BRL-CAD
Select "Tools->Upgrade Database..." for more information 
Select "Tools->Upgrade Database..." to enable support for this feature

Database was created with a previous release of BRL-CAD
Type 'dbupgrade -help' for more information
Type 'dbupgrade -help' to enable support for this feature


PRIM=tor
mged -c <<EOF

     set mged_default (db_version)


     opendb ${PRIM}.g -db_version 4
     y

     set auto_size 0
     units mm
     Z
     viewsize 100 
     ae 35 25

     in ${PRIM}.in.s $PRIM [[ARGS]]
     rt -s512 -F/tmp/${PRIM}.in.pix

     Z
     viewsize 100 
     ae 35 25
     make ${PRIM}.make.s $PRIM
     rt -s512 -F/tmp/${PRIM}.make.pix

     Z
     viewsize 100 
     ae 35 25
     db put { ${PRIM}.dbput.s $PRIM [[ARGS]] }
     rt -s512 -F/tmp/${PRIM}.dbput.pix

     Z
     viewsize 100 
     ae 35 25
     r ${PRIM}.in.r u ${PRIM}.in.s
     putmat ${PRIM}.in.c/${PRIM}.in.s { 1 0 0 0 
                                        0 1 0 0 
                                        0 0 1 0 
                                        0 0 0 1 }
     push ${PRIM}.in.r
     shader ${PRIM}.in.r {checker {s 4}}

     Z
     viewsize 100 
     ae 35 25
     e ${PRIM}.in.r
     rt -s512 -F/tmp/${PRIM}.trans.pix
EOF

