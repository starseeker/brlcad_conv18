IF(WIN32 AND BRLCAD-ENABLE_OPENGL)
  SET(TCLCAD_DEFINES "${TCLCAD_DEFINES} -DDM_WGL -DIF_WGL")
ENDIF(WIN32 AND BRLCAD-ENABLE_OPENGL)

IF(BRLCAD-ENABLE_X11)
  SET(TCLCAD_DEFINES  "${TCLCAD_DEFINES} -DDM_X -DIF_X")
ENDIF(BRLCAD-ENABLE_X11)

IF(BRLCAD-ENABLE_X11 AND BRLCAD-ENABLE_OPENGL)
  SET(TCLCAD_DEFINES "${TCLCAD_DEFINES} -DDM_OGL -DIF_OGL")
ENDIF(BRLCAD-ENABLE_X11 AND BRLCAD-ENABLE_OPENGL)

IF(TK_LIBRARY)
  SET(TCLCAD_DEFINES "${TCLCAD_DEFINES} -DDM_TK -DIF_TK")
ENDIF(TK_LIBRARY)

include_directories(
  ${BRLCAD_BINARY_DIR}/include
  ${BRLCAD_SOURCE_DIR}/include
  ${BRLCAD_PNG_INCLUDE_DIR}
  ${X11_INCLUDE_DIR}
  ${TCL_INCLUDE_PATH}
  ${TK_INCLUDE_PATH}
)

add_definitions(
        -DHAVE_CONFIG_H
        -DBRLCADBUILD=1
        ${TCLCAD_DEFINES}
)

FOREACH(xlib ${X11_LIBRARIES})
	SET(TCLCAD_XLIBS "${TCLCAD_XLIBS} ${xlib}")
ENDFOREACH(xlib ${X11_LIBRARIES})
BRLCAD_ADDLIB(tclcad "tclcad.c tclcadAutoPath.c tkImgFmtPIX.c ged_obj.c" "dm ged ${TCLCAD_XLIBS} ${X11_Xi_LIB}")
