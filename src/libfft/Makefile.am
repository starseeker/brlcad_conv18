# $Id$

lib_LTLIBRARIES = libfft.la

noinst_PROGRAMS = \
	fftc \
	fftest \
	ifftc

SRCS = \
	fftfast.c \
	splitdit.c \
	ditsplit.c

libfft_la_SOURCES = \
	$(SRCS) \
	$(BUILT_SOURCES)

libfft_la_LDFLAGS = -version-info 19:1
libfft_la_LIBADD = ${LIBM}

noinst_HEADERS = \
	complex.h \
	fft.h

fftc_LDADD = ${LIBM}
fftc_SOURCES = \
	fftc.c \
	splitditc.c

fftest_LDADD = libfft.la
fftest_SOURCES = fftest.c

ifftc_LDADD = ${LIBM}
ifftc_SOURCES = \
	ditsplitc.c \
	ifftc.c

rfft16.c:	fftc
	./fftc 16 > rfft16.c

rfft32.c:	fftc
	./fftc 32 > rfft32.c

rfft64.c:	fftc
	./fftc 64 > rfft64.c

rfft128.c:	fftc
	./fftc 128 > rfft128.c

rfft256.c:	fftc
	./fftc 256 > rfft256.c

rfft512.c:	fftc
	./fftc 512 > rfft512.c

irfft16.c:	ifftc
	./ifftc 16 > irfft16.c

irfft32.c:	ifftc
	./ifftc 32 > irfft32.c

irfft64.c:	ifftc
	./ifftc 64 > irfft64.c

irfft128.c:	ifftc
	./ifftc 128 > irfft128.c

irfft256.c:	ifftc
	./ifftc 256 > irfft256.c

irfft512.c:	ifftc
	./ifftc 512 > irfft512.c

vers.c: $(SRCS)
	@SH@ $(top_srcdir)/sh/vers.sh fft_version "BRL-CAD FFT Library" > $@

clean-local:
	@RM@ -f ${BUILT_SOURCES}

BUILT_SOURCES = \
	irfft128.c \
	irfft16.c \
	irfft256.c \
	irfft32.c \
	irfft64.c \
	rfft128.c \
	rfft16.c \
	rfft256.c \
	rfft32.c \
	rfft64.c \
	vers.c

DISTCLEANFILES = \
	$(BUILT_SOURCES) \
	version

MAINTAINERCLEANFILES = Makefile.in
