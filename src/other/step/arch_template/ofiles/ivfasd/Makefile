
# This code was developed with the support of the United States Government,
# and is not subject to copyright.

MAKE_RULES =  ../../make_rules
include $(MAKE_RULES)

PDES = ../../..

###############################################################

LIBRARY = ../../lib/libCivfasd.a

#  This Makefile specializes the InterViews user interface library.
#  All files below this point are made using relative paths based on
#  the PDES and LIBRARY macro.  The make_rules file specifies which
#  compiler and preprocessors will be used.

###############################################################

UTILS	= $(PDES)/src/clutils
IVFASD	= $(PDES)/src/clivfasd

IVINCLUDES =	-I$(IVFASD) \
		-I$(IV_INCLUDE_DIR)

INCLUDES =	-I../.. \
		-I$(UTILS)  \
		$(IVINCLUDES) \
		$(MR_INCLUDES)  \
		-I/usr/local/include  
#		-I/usr/include/sys


METAFILES = \
	ebutton.o \
	intstreditor.o \
	intstreditorsub.o \
	streditor2.o \
	streditor2sub.o \
	label.o \
	listitemchooser.o \
	listmgrcore.o \
	mybutton.o \
	mycontrol.o \
	myfilebrowser.o \
	myfilechooser.o \
	mymenu.o \
	mymessage.o \
	mymessage2.o \
	mystrbrowser.o \
	sbutton.o \
	strdisplay.o \
	errordisplay.o

%.o:  $(IVFASD)/%.cc
	@echo " "
	@echo "compiling $<"
	$(CXX) $(CFLAGS)  $(INCLUDES)  -c $<; \

all: $(LIBRARY)

$(LIBRARY): $(METAFILES)
	@echo " "
	@echo "making $(LIBRARY)"
	echo "ar rc $(LIBRARY) $?"; \
	ar rc $(LIBRARY) $?; \
	echo "$(RANLIB) $(LIBRARY)"; \
	$(RANLIB) $(LIBRARY); \

build:	checkout all

checkout:
	cd $(IVFASD); co checkout; checkout;

clean:
	rm $(METAFILES) $(LIBRARY)

depend:
	$(MAKE_DEPEND) $(MR_COND_DEFS) $(CPLUSINCLUDES) $(INCLUDES) $(IVFASD)/*.cc

#
# dependencies generated by makedepend
#

# DO NOT DELETE THIS LINE -- make depend depends on it.
