<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- lifted from troff+man+tkman by doclifter -->
<refentry xmlns='http://docbook.org/ns/docbook' version='5.0' xml:lang='en' xml:id='getopnfl3'>

<!-- '\" Copyright (c) 1996\-1997 Sun Microsystems, Inc. -->

<!-- '\" See the file "license.terms" for information on usage and redistribution
'\" of this file, and for a DISCLAIMER OF ALL WARRANTIES.
'\" 
'\" RCS: @(#) $Id$ -->
<refentryinfo><date>8.0</date></refentryinfo>
<refmeta>
<refentrytitle>Tcl_GetOpenFile</refentrytitle>
<manvolnum>3</manvolnum>
<refmiscinfo class='date'>8.0</refmiscinfo>
<refmiscinfo class='source'>Tcl</refmiscinfo>
<refmiscinfo class='manual'>Tcl Library Procedures</refmiscinfo>
</refmeta>
<refnamediv>
<refname>Tcl_GetOpenFile</refname>
<refpurpose>Return a FILE* for a channel registered in the given interpreter (Unix only)</refpurpose>
</refnamediv>
<!-- body begins here -->
<refsynopsisdiv xml:id='synopsis'>
<funcsynopsis>
<funcsynopsisinfo>
#include &lt;tcl.h&gt;

</funcsynopsisinfo>
<funcprototype>
<funcdef>int <function>Tcl_GetOpenFile</function></funcdef>
<paramdef><parameter>interp</parameter></paramdef>
<paramdef><parameter>chanID</parameter></paramdef>
<paramdef><parameter>write</parameter></paramdef>
<paramdef><parameter>checkUsage</parameter></paramdef>
<paramdef><parameter>filePtr</parameter></paramdef>
</funcprototype>
</funcsynopsis>
</refsynopsisdiv>


<refsect1 xml:id='arguments'><title>ARGUMENTS</title>
<!-- .AS Tcl_Interp checkUsage out -->
<informaltable>
<tgroup cols='3'>
<tbody>

<row><entry>"Tcl_Interp"</entry><entry>"*interp"</entry><entry>"in"</entry>
<entry>
<para>Tcl interpreter from which file handle is to be obtained.</para>
</entry>
</row>
<row><entry>"const char"</entry><entry>*chanID</entry><entry>in</entry>
<entry>
<para>String identifying channel, such as <emphasis remap='B'>stdin</emphasis> or <emphasis remap='B'>file4</emphasis>.</para>
</entry>
</row>
<row><entry>int</entry><entry>write</entry><entry>in</entry>
<entry>
<para>Non-zero means the file will be used for writing, zero means it will
be used for reading.</para>
</entry>
</row>
<row><entry>int</entry><entry>checkUsage</entry><entry>in</entry>
<entry>
<para>If non-zero, then an error will be generated if the file was not opened
for the access indicated by <emphasis remap='I'>write</emphasis>.</para>
</entry>
</row>
<row><entry>ClientData</entry><entry>*filePtr</entry><entry>out</entry>
<entry>
<para>Points to word in which to store pointer to FILE structure for
the file given by <emphasis remap='I'>chanID</emphasis>.</para>
<!-- .BE -->
</entry>
</row>
</tbody>
</tgroup>
</informaltable>

</refsect1>

<refsect1 xml:id='description'><title>DESCRIPTION</title>
<para><function>Tcl_GetOpenFile</function> takes as argument a file identifier of the form
returned by the <emphasis remap='B'>open</emphasis> command and
returns at <emphasis remap='I'>*filePtr</emphasis> a pointer to the FILE structure for
the file.
The <emphasis remap='I'>write</emphasis> argument indicates whether the FILE pointer will
be used for reading or writing.
In some cases, such as a channel that connects to a pipeline of
subprocesses, different FILE pointers will be returned for reading
and writing.
<function>Tcl_GetOpenFile</function> normally returns <emphasis remap='B'>TCL_OK</emphasis>.
If an error occurs in <function>Tcl_GetOpenFile</function> (e.g. <emphasis remap='I'>chanID</emphasis> did not
make any sense or <emphasis remap='I'>checkUsage</emphasis> was set and the file was not opened
for the access specified by <emphasis remap='I'>write</emphasis>) then <emphasis remap='B'>TCL_ERROR</emphasis> is returned
and the interpreter's result will contain an error message.
In the current implementation <emphasis remap='I'>checkUsage</emphasis> is ignored and consistency
checks are always performed.</para>

<para>Note that this interface is only supported on the Unix platform.</para>

</refsect1>

<refsect1 xml:id='keywords'><title>KEYWORDS</title>
<para>channel, file handle, permissions, pipeline, read, write</para>
</refsect1>
</refentry>

