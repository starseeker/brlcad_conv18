<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- lifted from troff+man+tkman by doclifter -->
<refentry xmlns='http://docbook.org/ns/docbook' version='5.0' xml:lang='en' xml:id='tkinitstubs3'>

<!-- '\" Copyright (c) 1999 Scriptics Corporation -->

<!-- '\" See the file "license.terms" for information on usage and redistribution
'\" of this file, and for a DISCLAIMER OF ALL WARRANTIES.
'\" 
'\" RCS: @(#) $Id$
'\"  -->
<refentryinfo><date>8.4</date></refentryinfo>
<refmeta>
<refentrytitle>Tk_InitStubs</refentrytitle>
<manvolnum>3</manvolnum>
<refmiscinfo class='date'>8.4</refmiscinfo>
<refmiscinfo class='source'>Tk</refmiscinfo>
<refmiscinfo class='manual'>Tk Library Procedures</refmiscinfo>
</refmeta>
<refnamediv>
<refname>Tk_InitStubs</refname>
<refpurpose>initialize the Tk stubs mechanism</refpurpose>
</refnamediv>
<!-- body begins here -->
<refsynopsisdiv xml:id='synopsis'>
<funcsynopsis>
<funcsynopsisinfo>
#include &lt;tk.h&gt;

</funcsynopsisinfo>
<funcprototype>
<funcdef>const char *<function>Tk_InitStubs</function></funcdef>
<paramdef><parameter>interp</parameter></paramdef>
<paramdef><parameter>version</parameter></paramdef>
<paramdef><parameter>exact</parameter></paramdef>
</funcprototype>
</funcsynopsis>
</refsynopsisdiv>


<refsect1 xml:id='arguments'><title>ARGUMENTS</title>
<!-- .AS Tcl_Interp *interp in -->
<informaltable>
<tgroup cols='3'>
<tbody>

<row><entry>"Tcl_Interp"</entry><entry>"*interp"</entry><entry>"in"</entry>
<entry>
<para>Tcl interpreter handle.</para>
</entry>
</row>
<row><entry>char</entry><entry>*version</entry><entry>in</entry>
<entry>
<para>A version string consisting of one or more decimal numbers
separated by dots.</para>
</entry>
</row>
<row><entry>int</entry><entry>exact</entry><entry>in</entry>
<entry>
<para>Non-zero means that only the particular Tk version specified by
<emphasis remap='I'>version</emphasis> is acceptable.
Zero means that versions newer than <emphasis remap='I'>version</emphasis> are also
acceptable as long as they have the same major version number
as <emphasis remap='I'>version</emphasis>.</para>
<!-- .BE -->
</entry>
</row>
</tbody>
</tgroup>
</informaltable>

</refsect1>

<refsect1 xml:id='introduction'><title>INTRODUCTION</title>
<para>The Tcl stubs mechanism defines a way to dynamically bind
extensions to a particular Tcl implementation at run time.
the stubs mechanism requires no changes to applications
incoporating Tcl/Tk interpreters.  Only developers creating
C-based Tcl/Tk extensions need to take steps to use the
stubs mechanism with their extensions.
See the <emphasis remap='B'>Tcl_InitStubs</emphasis> page for more information.</para>

<para>Enabling the stubs mechanism for a Tcl/Tk extension requires the following
steps:</para>
<variablelist remap='IP'>
  <varlistentry>
  <term>1)</term>
  <listitem>
<para>Call <emphasis remap='B'>Tcl_InitStubs</emphasis> in the extension before calling any other
Tcl functions.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term>2)</term>
  <listitem>
<para>Call <function>Tk_InitStubs</function> if the extension before calling any other
Tk functions.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term>2)</term>
  <listitem>
<para>Define the <emphasis remap='B'>USE_TCL_STUBS</emphasis> symbol. Typically, you would include the
<option>-DUSE_TCL_STUBS</option> flag when compiling the extension.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term>3)</term>
  <listitem>
<para>Link the extension with the Tcl and Tk stubs libraries instead of
the standard Tcl and Tk libraries.  On Unix platforms, the library
names are <emphasis remap='I'>libtclstub8.4.a</emphasis> and <emphasis remap='I'>libtkstub8.4.a</emphasis>; on Windows
platforms, the library names are <emphasis remap='I'>tclstub84.lib</emphasis> and <emphasis remap='I'>tkstub84.lib</emphasis>
(adjust names with appropriate version number).</para>
  </listitem>
  </varlistentry>
</variablelist>
</refsect1>

<refsect1 xml:id='description'><title>DESCRIPTION</title>
<para><function>Tk_InitStubs</function> attempts to initialize the Tk stub table pointers
and ensure that the correct version of Tk is loaded.  In addition
to an interpreter handle, it accepts as arguments a version number
and a Boolean flag indicating whether the extension requires
an exact version match or not.  If <emphasis remap='I'>exact</emphasis> is 0, then the
extension is indicating that newer versions of Tk are acceptable
as long as they have the same major version number as <emphasis remap='I'>version</emphasis>;
non-zero means that only the specified <emphasis remap='I'>version</emphasis> is acceptable.
<emphasis remap='B'>Tcl_InitStubs</emphasis> returns a string containing the actual version
of Tk satisfying the request, or NULL if the Tk version is not
acceptable, does not support the stubs mechanism, or any other
error condition occurred.</para>
</refsect1>

<refsect1 xml:id='see_also'><title>SEE ALSO</title>
<para><emphasis remap='B'>Tcl_InitStubs</emphasis></para>
</refsect1>

<refsect1 xml:id='keywords'><title>KEYWORDS</title>
<para>stubs</para>
</refsect1>
</refentry>

