<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- lifted from troff+man+tkman by doclifter -->
<refentry xmlns='http://docbook.org/ns/docbook' version='5.0' xml:lang='en' xml:id='getvisual3'>

<!-- '\" Copyright (c) 1994 The Regents of the University of California.
'\" Copyright (c) 1994\-1996 Sun Microsystems, Inc. -->

<!-- '\" See the file "license.terms" for information on usage and redistribution
'\" of this file, and for a DISCLAIMER OF ALL WARRANTIES.
'\" 
'\" RCS: @(#) $Id$
'\"  -->
<refentryinfo><date>4.0</date></refentryinfo>
<refmeta>
<refentrytitle>Tk_GetVisual</refentrytitle>
<manvolnum>3</manvolnum>
<refmiscinfo class='date'>4.0</refmiscinfo>
<refmiscinfo class='source'>Tk</refmiscinfo>
<refmiscinfo class='manual'>Tk Library Procedures</refmiscinfo>
</refmeta>
<refnamediv>
<refname>Tk_GetVisual</refname>
<refpurpose>translate from string to visual</refpurpose>
</refnamediv>
<!-- body begins here -->
<refsynopsisdiv xml:id='synopsis'>
<funcsynopsis>
<funcsynopsisinfo>
#include &lt;tk.h&gt;

</funcsynopsisinfo>
<funcprototype>
<funcdef><function>Visual</function> *Tk_GetVisual</funcdef>
<paramdef><parameter>interp</parameter></paramdef>
<paramdef><parameter>tkwin</parameter></paramdef>
<paramdef><parameter>string</parameter></paramdef>
<paramdef><parameter>depthPtr</parameter></paramdef>
<paramdef><parameter>colormapPtr</parameter></paramdef>
</funcprototype>
</funcsynopsis>
</refsynopsisdiv>


<refsect1 xml:id='arguments'><title>ARGUMENTS</title>
<!-- .AS Tcl_Interp *colormapPtr -->
<informaltable>
<tgroup cols='3'>
<tbody>

<row><entry>"Tcl_Interp"</entry><entry>"*interp"</entry><entry>"in"</entry>
<entry>
<para>Interpreter to use for error reporting.</para>
</entry>
</row>
<row><entry>Tk_Window</entry><entry>tkwin</entry><entry>in</entry>
<entry>
<para>Token for window in which the visual will be used.</para>
</entry>
</row>
<row><entry>"const char"</entry><entry>*string</entry><entry>in</entry>
<entry>
<para>String that identifies the desired visual.  See below for
valid formats.</para>
</entry>
</row>
<row><entry>int</entry><entry>*depthPtr</entry><entry>out</entry>
<entry>
<para>Depth of returned visual gets stored here.</para>
</entry>
</row>
<row><entry>Colormap</entry><entry>*colormapPtr</entry><entry>out</entry>
<entry>
<para>If non-NULL then a suitable colormap for visual is found and its
identifier is stored here.</para>
<!-- .BE -->
</entry>
</row>
</tbody>
</tgroup>
</informaltable>

</refsect1>

<refsect1 xml:id='description'><title>DESCRIPTION</title>
<para><emphasis remap='B'>Tk_GetVisual</emphasis> takes a string description of a visual and
finds a suitable X Visual for use in <emphasis remap='I'>tkwin</emphasis>, if there is one.
It returns a pointer to the X Visual structure for the visual
and stores the number of bits per pixel for it at <emphasis remap='I'>*depthPtr</emphasis>.
If <emphasis remap='I'>string</emphasis> is unrecognizable or if no suitable visual could
be found, then NULL is returned and <emphasis remap='B'>Tk_GetVisual</emphasis> leaves
an error message in <emphasis remap='I'>interp-&gt;result</emphasis>.
If <emphasis remap='I'>colormap</emphasis> is non-NULL then <emphasis remap='B'>Tk_GetVisual</emphasis>
also locates an appropriate colormap for use with the result visual
and stores its X identifier at <emphasis remap='I'>*colormapPtr</emphasis>.</para>

<para>The <emphasis remap='I'>string</emphasis> argument specifies the desired visual in one
of the following ways:</para>
<variablelist remap='TP'>
  <varlistentry>
  <term><emphasis remap='I'>class depth</emphasis></term>
  <listitem>
<para>The string consists of a class name followed by an integer depth,
with any amount of white space (including none) in between.
<emphasis remap='I'>class</emphasis> selects what sort of visual is desired and must be one of
<emphasis remap='B'>directcolor</emphasis>, <emphasis remap='B'>grayscale</emphasis>, <emphasis remap='B'>greyscale</emphasis>, <emphasis remap='B'>pseudocolor</emphasis>,
<emphasis remap='B'>staticcolor</emphasis>, <emphasis remap='B'>staticgray</emphasis>, <emphasis remap='B'>staticgrey</emphasis>, or
<emphasis remap='B'>truecolor</emphasis>, or a unique abbreviation.
<emphasis remap='I'>depth</emphasis> specifies how many bits per pixel are needed for the
visual.
If possible, <emphasis remap='B'>Tk_GetVisual</emphasis> will return a visual with this depth;
if there is no visual of the desired depth then <emphasis remap='B'>Tk_GetVisual</emphasis>
looks first for a visual with greater depth, then one with less
depth.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><emphasis remap='B'>default</emphasis></term>
  <listitem>
<para>Use the default visual for <emphasis remap='I'>tkwin</emphasis>'s screen.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><emphasis remap='I'>pathName</emphasis></term>
  <listitem>
<para>Use the visual for the window given by <emphasis remap='I'>pathName</emphasis>.
<emphasis remap='I'>pathName</emphasis> must be the name of a window on the same screen
as <emphasis remap='I'>tkwin</emphasis>.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><emphasis remap='I'>number</emphasis></term>
  <listitem>
<para>Use the visual whose X identifier is <emphasis remap='I'>number</emphasis>.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><emphasis remap='B'>best</emphasis> ?<emphasis remap='I'>depth</emphasis>?</term>
  <listitem>
<para>Choose the
<quote>best possible</quote>
visual, using the following rules, in decreasing order of priority:</para>
  </listitem>
  </varlistentry>
</variablelist>
<variablelist remap='IP'>
  <varlistentry>
  <term>(a)</term>
  <listitem>
<para>a visual that has exactly the desired depth is best, followed
by a visual with greater depth than requested (but as little extra
as possible), followed by a visual with less depth than requested
(but as great a depth as possible);</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term>(b)</term>
  <listitem>
<para>if no <emphasis remap='I'>depth</emphasis> is specified, then the deepest available visual
is chosen;</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term>(c)</term>
  <listitem>
<para><emphasis remap='B'>pseudocolor</emphasis> is better than <emphasis remap='B'>truecolor</emphasis> or <emphasis remap='B'>directcolor</emphasis>,
which are better than <emphasis remap='B'>staticcolor</emphasis>, which is better than
<emphasis remap='B'>staticgray</emphasis> or <emphasis remap='B'>grayscale</emphasis>;</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term>(d)</term>
  <listitem>
<para>the default visual for the screen is better than any other visual.</para>
  </listitem>
  </varlistentry>
</variablelist>
</refsect1>

<refsect1 xml:id='credits'><title>CREDITS</title>
<para>The idea for <emphasis remap='B'>Tk_GetVisual</emphasis>, and the first implementation, came
from Paul Mackerras.</para>
</refsect1>

<refsect1 xml:id='keywords'><title>KEYWORDS</title>
<para>colormap, screen, visual</para>
</refsect1>
</refentry>

