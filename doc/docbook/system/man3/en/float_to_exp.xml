<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- lifted from troff+man by doclifter -->
<refentry xmlns='http://docbook.org/ns/docbook' version='5.0' xml:lang='en' xml:id='float_to_exp3'>
<!--  Copyright (c) 1986, 1987, University of Utah -->
<refmeta>
<refentrytitle>FLOAT_TO_EXP</refentrytitle>
<manvolnum>3</manvolnum>
<refmiscinfo class='source'>November 10, 1987</refmiscinfo>
<refmiscinfo class='manual'>3</refmiscinfo>
</refmeta>
<refnamediv>
<refname>float_to_exp</refname>
<refpurpose>Convert floating point values into "exponential" pixels.</refpurpose>
</refnamediv>
<!-- body begins here -->
<refsynopsisdiv xml:id='synopsis'>
<funcsynopsis>
<funcsynopsisinfo>
#include &lt;rle.h&gt;

</funcsynopsisinfo>
<funcprototype>
<funcdef><function>float_to_exp</function></funcdef>
<paramdef><parameter>count</parameter></paramdef>
<paramdef><parameter>floats</parameter></paramdef>
<paramdef><parameter>pixels</parameter></paramdef>
</funcprototype>
<funcsynopsisinfo>

int count;

float * floats;

rle_pixel * pixels;
</funcsynopsisinfo>
</funcsynopsis>
</refsynopsisdiv>


<refsect1 xml:id='description'><title>DESCRIPTION</title>
<para>The function
<function>float_to_exp</function>
converts
<emphasis remap='I'>count</emphasis>
floating point numbers (pointed to by
<emphasis remap='I'>floats</emphasis>)
into
<emphasis remap='I'>count+1</emphasis>
bytes (pointed to by
<emphasis remap='I'>pixels)</emphasis>
using an "exponential" format.
This format generates
<emphasis remap='I'>count</emphasis>
pixels as eight bit "mantissa" values, and another byte containing a
common exponent for all of the data values.  This format has a wider
dynamic range of values with little extra overhead.  The inverse
mapping is</para>
<literallayout remap='.nf'>
	float expnt, flt_val;
	rle_pixel exponent, val;
	expnt = ldexp( 1/256.0, (int)exponent - 127 );
	flt_val = (float)val * expnt;
</literallayout> <!-- .fi -->

<para>Files containing exponential data may be converted into displayable images
using the
<citerefentry><refentrytitle>unexp</refentrytitle><manvolnum>1</manvolnum></citerefentry>
command.
<emphasis remap='I'>Unexp</emphasis>
should be used before using any tools that perform arithmetic
on pixel values, or displaying the image.
<emphasis remap='I'>Unexp</emphasis>
expects files containing exponential data to have an "exponential_data"
picture comment.</para>
</refsect1>

<refsect1 xml:id='see_also'><title>SEE ALSO</title>
<para><citerefentry><refentrytitle>unexp</refentrytitle><manvolnum>1</manvolnum></citerefentry>,
<citerefentry><refentrytitle>rle_putcom</refentrytitle><manvolnum>3</manvolnum></citerefentry>,
<citerefentry><refentrytitle>librle</refentrytitle><manvolnum>3</manvolnum></citerefentry>,
<citerefentry><refentrytitle>RLE</refentrytitle><manvolnum>5</manvolnum></citerefentry>.</para>
</refsect1>

<refsect1 xml:id='author'><title>AUTHOR</title>
<para>John W. Peterson, based on code by Spencer Thomas.
<!-- .br -->
University of Utah</para>
</refsect1>
</refentry>

