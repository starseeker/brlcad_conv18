<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- lifted from troff+man+tkman by doclifter -->
<refentry xmlns='http://docbook.org/ns/docbook' version='5.0' xml:lang='en' xml:id='substobj3'>

<!-- '\" Copyright (c) 2001 Donal K. Fellows -->

<!-- '\" See the file "license.terms" for information on usage and redistribution
'\" of this file, and for a DISCLAIMER OF ALL WARRANTIES.
'\" 
'\" RCS: @(#) $Id$
'\"  -->
<refentryinfo><date>8.4</date></refentryinfo>
<refmeta>
<refentrytitle>Tcl_SubstObj</refentrytitle>
<manvolnum>3</manvolnum>
<refmiscinfo class='date'>8.4</refmiscinfo>
<refmiscinfo class='source'>Tcl</refmiscinfo>
<refmiscinfo class='manual'>Tcl Library Procedures</refmiscinfo>
</refmeta>
<refnamediv>
<refname>Tcl_SubstObj</refname>
<refpurpose>perform substitutions on Tcl objects</refpurpose>
</refnamediv>
<!-- body begins here -->
<refsynopsisdiv xml:id='synopsis'>
<funcsynopsis>
<funcsynopsisinfo>
#include &lt;tcl.h&gt;

</funcsynopsisinfo>
<funcprototype>
<funcdef><function>Tcl_Obj</function> *Tcl_SubstObj</funcdef>
<paramdef><parameter>interp</parameter></paramdef>
<paramdef><parameter>objPtr</parameter></paramdef>
<paramdef><parameter>flags</parameter></paramdef>
</funcprototype>
</funcsynopsis>
</refsynopsisdiv>


<refsect1 xml:id='arguments'><title>ARGUMENTS</title>
<!-- .AS Tcl_Interp **termPtr -->
<informaltable>
<tgroup cols='3'>
<tbody>

<row><entry>"Tcl_Interp"</entry><entry>"*interp"</entry><entry>"in"</entry>
<entry>
<para>Interpreter in which to execute Tcl scripts and lookup variables.  If
an error occurs, the interpreter's result is modified to hold an error
message.</para>
</entry>
</row>
<row><entry>Tcl_Obj</entry><entry>*objPtr</entry><entry>in</entry>
<entry>
<para>A Tcl object containing the string to perform substitutions on.</para>
</entry>
</row>
<row><entry>int</entry><entry>flags</entry><entry>in</entry>
<entry>
<para>ORed combination of flag bits that specify which substitutions to
perform.  The flags <emphasis remap='B'>TCL_SUBST_COMMANDS</emphasis>,
<emphasis remap='B'>TCL_SUBST_VARIABLES</emphasis> and <emphasis remap='B'>TCL_SUBST_BACKSLASHES</emphasis> are
currently supported, and <emphasis remap='B'>TCL_SUBST_ALL</emphasis> is provided as a
convenience for the common case where all substitutions are desired.</para>
<!-- .BE -->
</entry>
</row>
</tbody>
</tgroup>
</informaltable>

</refsect1>

<refsect1 xml:id='description'><title>DESCRIPTION</title>
<para>The <emphasis remap='B'>Tcl_SubstObj</emphasis> function is used to perform substitutions on
strings in the fashion of the <emphasis remap='B'>subst</emphasis> command.  It gets the value
of the string contained in <emphasis remap='I'>objPtr</emphasis> and scans it, copying
characters and performing the chosen substitutions as it goes to an
output object which is returned as the result of the function.  In the
event of an error occurring during the execution of a command or
variable substitution, the function returns NULL and an error message
is left in <emphasis remap='I'>interp</emphasis>'s result.</para>

<para>Three kinds of substitutions are supported.  When the
<emphasis remap='B'>TCL_SUBST_BACKSLASHES</emphasis> bit is set in <emphasis remap='I'>flags</emphasis>, sequences that
look like backslash substitutions for Tcl commands are replaced by
their corresponding character.</para>

<para>When the <emphasis remap='B'>TCL_SUBST_VARIABLES</emphasis> bit is set in <emphasis remap='I'>flags</emphasis>,
sequences that look like variable substitutions for Tcl commands are
replaced by the contents of the named variable.</para>

<para>When the <emphasis remap='B'>TCL_SUBST_COMMANDS</emphasis> bit is set in <emphasis remap='I'>flags</emphasis>, sequences
that look like command substitutions for Tcl commands are replaced by
the result of evaluating that script.  Where an uncaught
<quote>continue exception</quote>
occurs during the evaluation of a command substitution, an
empty string is substituted for the command.  Where an uncaught
<quote>break exception</quote>
occurs during the evaluation of a command substitution, the
result of the whole substitution on <emphasis remap='I'>objPtr</emphasis> will be truncated at
the point immediately before the start of the command substitution,
and no characters will be added to the result or substitutions
performed after that point.</para>
</refsect1>

<refsect1 xml:id='see_also'><title>SEE ALSO</title>
<para>subst(n)</para>
</refsect1>

<refsect1 xml:id='keywords'><title>KEYWORDS</title>
<para>backslash substitution, command substitution, variable substitution</para>
</refsect1>
</refentry>

