<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- lifted from troff+man+tkman by doclifter -->
<refentry xmlns='http://docbook.org/ns/docbook' version='5.0' xml:lang='en' xml:id='getgc3'>

<!-- '\" Copyright (c) 1990 The Regents of the University of California.
'\" Copyright (c) 1994\-1996 Sun Microsystems, Inc. -->

<!-- '\" See the file "license.terms" for information on usage and redistribution
'\" of this file, and for a DISCLAIMER OF ALL WARRANTIES.
'\" 
'\" RCS: @(#) $Id$
'\"  -->
<refmeta>
<refentrytitle>Tk_GetGC</refentrytitle>
<manvolnum>3</manvolnum>
<refmiscinfo class='manual'>Tk</refmiscinfo>
</refmeta>
<refnamediv>
<refname>Tk_GetGC</refname>
<refname>Tk_FreeGC</refname>
<refpurpose>maintain database of read-only graphics contexts</refpurpose>
</refnamediv>
<!-- body begins here -->
<refsynopsisdiv xml:id='synopsis'>
<funcsynopsis>
<funcsynopsisinfo>
#include &lt;tk.h&gt;

</funcsynopsisinfo>
<funcprototype>
<funcdef>GC <function>Tk_GetGC</function></funcdef>
<paramdef><parameter>tkwin</parameter></paramdef>
<paramdef><parameter>valueMask</parameter></paramdef>
<paramdef><parameter>valuePtr</parameter></paramdef>
</funcprototype>
<funcprototype>
<funcdef><function>Tk_FreeGC</function></funcdef>
<paramdef><parameter>display</parameter></paramdef>
<paramdef><parameter>gc</parameter></paramdef>
</funcprototype>
</funcsynopsis>
</refsynopsisdiv>


<refsect1 xml:id='arguments'><title>ARGUMENTS</title>
<!-- .AS unsigned long valueMask -->
<informaltable>
<tgroup cols='3'>
<tbody>

<row><entry>"Tk_Window"</entry><entry>"tkwin"</entry><entry>"in"</entry>
<entry>
<para>Token for window in which the graphics context will be used.</para>
</entry>
</row>
<row><entry>"unsigned long"</entry><entry>valueMask</entry><entry>in</entry>
<entry>
<para>Mask of bits (such as <emphasis remap='B'>GCForeground</emphasis> or <emphasis remap='B'>GCStipple</emphasis>)
indicating which fields of <emphasis remap='I'>*valuePtr</emphasis> are valid.</para>
</entry>
</row>
<row><entry>XGCValues</entry><entry>*valuePtr</entry><entry>in</entry>
<entry>
<para>Pointer to structure describing the desired values for the
graphics context.</para>
</entry>
</row>
<row><entry>Display</entry><entry>*display</entry><entry>in</entry>
<entry>
<para>Display for which <emphasis remap='I'>gc</emphasis> was allocated.</para>
</entry>
</row>
<row><entry>GC</entry><entry>gc</entry><entry>in</entry>
<entry>
<para>X identifier for graphics context that is no longer needed.
Must have been allocated by <function>Tk_GetGC</function>.</para>
<!-- .BE -->
</entry>
</row>
</tbody>
</tgroup>
</informaltable>

</refsect1>

<refsect1 xml:id='description'><title>DESCRIPTION</title>
<para><function>Tk_GetGC</function> and <function>Tk_FreeGC</function> manage a collection of graphics contexts
being used by an application.  The procedures allow graphics contexts to be
shared, thereby avoiding the server overhead that would be incurred
if a separate GC were created for each use.  <function>Tk_GetGC</function> takes arguments
describing the desired graphics context and returns an X identifier
for a GC that fits the description.  The graphics context that is returned
will have default values in all of the fields not specified explicitly
by <emphasis remap='I'>valueMask</emphasis> and <emphasis remap='I'>valuePtr</emphasis>.</para>

<para><function>Tk_GetGC</function> maintains a
database of all the graphics contexts it has created.  Whenever possible,
a call to <function>Tk_GetGC</function> will
return an existing graphics context rather than creating a new one.  This
approach can substantially reduce server overhead, so <function>Tk_GetGC</function>
should generally be used in preference to the Xlib procedure
<emphasis remap='B'>XCreateGC</emphasis>, which creates a new graphics context on each call.</para>

<para>Since the return values of <function>Tk_GetGC</function>
are shared, callers should never modify the graphics contexts
returned by <function>Tk_GetGC</function>.
If a graphics context must be modified dynamically, then it should be
created by calling <emphasis remap='B'>XCreateGC</emphasis> instead of <function>Tk_GetGC</function>.</para>

<para>When a graphics context
is no longer needed, <function>Tk_FreeGC</function> should be called to release it.
There should be exactly one call to <function>Tk_FreeGC</function> for
each call to <function>Tk_GetGC</function>.
When a graphics context is no longer in use anywhere (i.e. it has
been freed as many times as it has been gotten) <function>Tk_FreeGC</function>
will release it to the X server and delete it from the database.</para>

</refsect1>

<refsect1 xml:id='keywords'><title>KEYWORDS</title>
<para>graphics context</para>
</refsect1>
</refentry>

