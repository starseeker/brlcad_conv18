<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- lifted from troff+man+tkman by doclifter -->
<refentry xmlns='http://docbook.org/ns/docbook' version='5.0' xml:lang='en' xml:id='wish1'>

<!-- '\" Copyright (c) 1991\-1994 The Regents of the University of California.
'\" Copyright (c) 1994\-1996 Sun Microsystems, Inc. -->

<!-- '\" See the file "license.terms" for information on usage and redistribution
'\" of this file, and for a DISCLAIMER OF ALL WARRANTIES.
'\" 
'\" RCS: @(#) $Id$
'\"  -->
<refentryinfo><date>8.0</date></refentryinfo>
<refmeta>
<refentrytitle>wish</refentrytitle>
<manvolnum>1</manvolnum>
<refmiscinfo class='date'>8.0</refmiscinfo>
<refmiscinfo class='source'>Tk</refmiscinfo>
<refmiscinfo class='manual'>Tk Applications</refmiscinfo>
</refmeta>
<refnamediv>
<refname>wish</refname>
<refpurpose>Simple windowing shell</refpurpose>
</refnamediv>
<!-- body begins here -->
<refsynopsisdiv xml:id='synopsis'>
<cmdsynopsis>
  <command>wish</command>    <arg choice='plain'><replaceable>?-encoding</replaceable></arg>
    <arg choice='plain'><replaceable>name?</replaceable></arg>
    <arg choice='plain'><replaceable>?fileName</replaceable></arg>
    <arg choice='plain'><replaceable>arg</replaceable></arg>
    <arg choice='plain' rep='repeat'><replaceable>arg</replaceable></arg>
    <arg choice='plain'><replaceable>?</replaceable></arg>
</cmdsynopsis>
</refsynopsisdiv>


<refsect1 xml:id='options'><title>OPTIONS</title>
<variablelist remap='IP'>
  <varlistentry>
  <term><option>-encoding </option><emphasis remap='I'>name</emphasis></term>
  <listitem>
<!-- .VS 8.5 -->
<para>Specifies the encoding of the text stored in <emphasis remap='I'>fileName</emphasis>.
This option is only recognized prior to the <emphasis remap='I'>fileName</emphasis> argument.</para>
<!-- .VE 8.5 -->
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>-colormap </option><emphasis remap='I'>new</emphasis></term>
  <listitem>
<para>Specifies that the window should have a new private colormap instead of
using the default colormap for the screen.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>-display </option><emphasis remap='I'>display</emphasis></term>
  <listitem>
<para>Display (and screen) on which to display window.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>-geometry </option><emphasis remap='I'>geometry</emphasis></term>
  <listitem>
<para>Initial geometry to use for window.  If this option is specified, its
value is stored in the <emphasis remap='B'>geometry</emphasis> global variable of the application's
Tcl interpreter.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>-name </option><emphasis remap='I'>name</emphasis></term>
  <listitem>
<para>Use <emphasis remap='I'>name</emphasis> as the title to be displayed in the window, and
as the name of the interpreter for <emphasis remap='B'>send</emphasis> commands.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>-sync</option></term>
  <listitem>
<para>Execute all X server commands synchronously, so that errors
are reported immediately.  This will result in much slower
execution, but it is useful for debugging.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>-use</option> <replaceable>id</replaceable></term>
  <listitem>
<para>Specifies that the main window for the application is to be embedded in
the window whose identifier is <emphasis remap='I'>id</emphasis>, instead of being created as an
independent toplevel window.  <emphasis remap='I'>Id</emphasis> must be specified in the same
way as the value for the <option>-use</option> option for toplevel widgets (i.e.
it has a form like that returned by the <emphasis remap='B'>winfo id</emphasis> command).</para>
  <blockquote remap='RS'>
<para>Note that on some platforms this will only work correctly if <emphasis remap='I'>id</emphasis>
refers to a Tk <emphasis remap='B'>frame</emphasis> or <emphasis remap='B'>toplevel</emphasis> that has its
<option>-container</option> option enabled.
    </para></blockquote> <!-- remap='RE' -->
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>-visual </option><emphasis remap='I'>visual</emphasis></term>
  <listitem>
<para>Specifies the visual to use for the window.
<emphasis remap='I'>Visual</emphasis> may have any of the forms supported by the <emphasis remap='B'>Tk_GetVisual</emphasis>
procedure.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>--</option></term>
  <listitem>
<para>Pass all remaining arguments through to the script's <emphasis remap='B'>argv</emphasis>
variable without interpreting them.
This provides a mechanism for passing arguments such as <option>-name</option>
to a script instead of having <command>wish</command> interpret them.</para>
<!-- .BE -->
  </listitem>
  </varlistentry>
</variablelist>
</refsect1>

<refsect1 xml:id='description'><title>DESCRIPTION</title>
<para><emphasis remap='B'>Wish</emphasis> is a simple program consisting of the Tcl command
language, the Tk toolkit, and a main program that reads commands
from standard input or from a file.
It creates a main window and then processes Tcl commands.
If <command>wish</command> is invoked with arguments, then the first few
arguments, ?<option>-encoding </option><emphasis remap='I'>name</emphasis>? ?<emphasis remap='I'>fileName</emphasis>? specify the
name of a script file, and, optionally, the
encoding of the text data stored in that script file.  A value
for <emphasis remap='I'>fileName</emphasis> is recognized if the appropriate argument
does not start with
<quote>-</quote>.</para>

<para>If there are no arguments, or the arguments do not specify a <emphasis remap='I'>fileName</emphasis>,
then wish reads Tcl commands interactively from standard input.
It will continue processing commands until all windows have been
deleted or until end-of-file is reached on standard input.
If there exists a file
<quote><markup>.wishrc</markup></quote>
in the home directory of the user, <command>wish</command> evaluates the file as a
Tcl script just before reading the first command from standard input.</para>

<para>If arguments to <command>wish</command> do specify a <emphasis remap='I'>fileName</emphasis>, then 
<emphasis remap='I'>fileName</emphasis> is treated as the name of a script file.
<emphasis remap='B'>Wish</emphasis> will evaluate the script in <emphasis remap='I'>fileName</emphasis> (which
presumably creates a user interface), then it will respond to events
until all windows have been deleted.
Commands will not be read from standard input.
There is no automatic evaluation of
<quote><markup>.wishrc</markup></quote>
when the name of a script file is presented on the <command>wish</command> command line,
but the script file can always <emphasis remap='B'>source</emphasis> it if desired.</para>

<para>Note that on Windows, the <command>wish</command><emphasis remap='I'>version</emphasis><markup>.exe</markup> program varies
from the <emphasis remap='B'>tclsh</emphasis><emphasis remap='I'>version</emphasis><markup>.exe</markup> program in an additional
important way: it does not connect to a standard Windows console and
is instead a windowed program. Because of this, it additionally
provides access to its own <emphasis remap='B'>console</emphasis> command.</para>
</refsect1>

<refsect1 xml:id='option_processing'><title>OPTION PROCESSING</title>
<para><emphasis remap='B'>Wish</emphasis> automatically processes all of the command-line options
described in the <emphasis remap='B'>OPTIONS</emphasis> summary above.
Any other command-line arguments besides these are passed through
to the application using the <emphasis remap='B'>argc</emphasis> and <emphasis remap='B'>argv</emphasis> variables
described later.</para>
</refsect1>

<refsect1 xml:id='application_name_and_class'><title>APPLICATION NAME AND CLASS</title>
<para>The name of the application, which is used for purposes such as
<emphasis remap='B'>send</emphasis> commands, is taken from the <option>-name</option> option,
if it is specified;  otherwise it is taken from <emphasis remap='I'>fileName</emphasis>,
if it is specified, or from the command name by which
<command>wish</command> was invoked.  In the last two cases, if the name contains a
<quote>/</quote>
character, then only the characters after the last slash are used
as the application name.</para>

<para>The class of the application, which is used for purposes such as
specifying options with a <emphasis remap='B'>RESOURCE_MANAGER</emphasis> property or .Xdefaults
file, is the same as its name except that the first letter is
capitalized.</para>
</refsect1>

<refsect1 xml:id='variables'><title>VARIABLES</title>
<para><emphasis remap='B'>Wish</emphasis> sets the following Tcl variables:</para>
<variablelist remap='TP'>
  <varlistentry>
  <term><emphasis remap='B'>argc</emphasis></term>
  <listitem>
<para>Contains a count of the number of <emphasis remap='I'>arg</emphasis> arguments (0 if none),
not including the options described above.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><emphasis remap='B'>argv</emphasis></term>
  <listitem>
<para>Contains a Tcl list whose elements are the <emphasis remap='I'>arg</emphasis> arguments
that follow a <option>--</option> option or do not match any of the
options described in <emphasis remap='B'>OPTIONS</emphasis> above, in order, or an empty string
if there are no such arguments.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><emphasis remap='B'>argv0</emphasis></term>
  <listitem>
<para>Contains <emphasis remap='I'>fileName</emphasis> if it was specified.
Otherwise, contains the name by which <command>wish</command> was invoked.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><emphasis remap='B'>geometry</emphasis></term>
  <listitem>
<para>If the <option>-geometry</option> option is specified, <command>wish</command> copies its
value into this variable.  If the variable still exists after
<emphasis remap='I'>fileName</emphasis> has been evaluated, <command>wish</command> uses the value of
the variable in a <emphasis remap='B'>wm geometry</emphasis> command to set the main
window's geometry.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><emphasis remap='B'>tcl_interactive</emphasis></term>
  <listitem>
<para>Contains 1 if <command>wish</command> is reading commands interactively (<emphasis remap='I'>fileName</emphasis>
was not specified and standard input is a terminal-like
device), 0 otherwise.</para>
  </listitem>
  </varlistentry>
</variablelist>
</refsect1>

<refsect1 xml:id='script_files'><title>SCRIPT FILES</title>
<para>If you create a Tcl script in a file whose first line is</para>
<programlisting>
<emphasis remap='B'>#!/usr/local/bin/wish</emphasis>
</programlisting> <!-- remap='CE' -->
<para>then you can invoke the script file directly from your shell if
you mark it as executable.
This assumes that <command>wish</command> has been installed in the default
location in /usr/local/bin;  if it is installed somewhere else
then you will have to modify the above line to match.
Many UNIX systems do not allow the <emphasis remap='B'>#!</emphasis> line to exceed about
30 characters in length, so be sure that the <command>wish</command> executable
can be accessed with a short file name.</para>

<para>An even better approach is to start your script files with the
following three lines:</para>
<programlisting>
<synopsis>
<emphasis remap='B'>#!/bin/sh
# the next line restarts using wish \
exec wish "$0" "$@"</emphasis>
</synopsis>
</programlisting> <!-- remap='CE' -->
<para>This approach has three advantages over the approach in the previous
paragraph.  First, the location of the <command>wish</command> binary does not have
to be hard-wired into the script:  it can be anywhere in your shell
search path.  Second, it gets around the 30-character file name limit
in the previous approach.
Third, this approach will work even if <command>wish</command> is
itself a shell script (this is done on some systems in order to
handle multiple architectures or operating systems:  the <command>wish</command>
script selects one of several binaries to run).  The three lines
cause both <emphasis remap='B'>sh</emphasis> and <command>wish</command> to process the script, but the
<emphasis remap='B'>exec</emphasis> is only executed by <emphasis remap='B'>sh</emphasis>.
<emphasis remap='B'>sh</emphasis> processes the script first;  it treats the second
line as a comment and executes the third line.
The <emphasis remap='B'>exec</emphasis> statement cause the shell to stop processing and
instead to start up <command>wish</command> to reprocess the entire script.
When <command>wish</command> starts up, it treats all three lines as comments,
since the backslash at the end of the second line causes the third
line to be treated as part of the comment on the second line.</para>

<para>The end of a script file may be marked either by the physical end of
the medium, or by the character,
<quote>\032</quote>
(<quote>\u001a</quote>, control-Z)
If this character is present in the file, the <command>wish</command> application
will read text up to but not including the character.  An application
that requires this character in the file may encode it as
<quote>\032</quote>,
<quote>\x1a</quote>,
or
<quote>\u001a</quote>;
or may generate it by use of commands such as <emphasis remap='B'>format</emphasis> or <emphasis remap='B'>binary</emphasis>.</para>
</refsect1>

<refsect1 xml:id='prompts'><title>PROMPTS</title>
<para>When <command>wish</command> is invoked interactively it normally prompts for each
command with
<quote><emphasis remap='B'>% </emphasis></quote>.
You can change the prompt by setting the
variables <emphasis remap='B'>tcl_prompt1</emphasis> and <emphasis remap='B'>tcl_prompt2</emphasis>.  If variable
<emphasis remap='B'>tcl_prompt1</emphasis> exists then it must consist of a Tcl script
to output a prompt;  instead of outputting a prompt <command>wish</command>
will evaluate the script in <emphasis remap='B'>tcl_prompt1</emphasis>.
The variable <emphasis remap='B'>tcl_prompt2</emphasis> is used in a similar way when
a newline is typed but the current command is not yet complete;
if <emphasis remap='B'>tcl_prompt2</emphasis> is not set then no prompt is output for
incomplete commands.</para>
</refsect1>

<refsect1 xml:id='keywords'><title>KEYWORDS</title>
<para>shell, toolkit</para>
</refsect1>
</refentry>

