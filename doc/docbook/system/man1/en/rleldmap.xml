<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- lifted from troff+man by doclifter -->
<refentry xmlns='http://docbook.org/ns/docbook' version='5.0' xml:lang='en' xml:id='rleldmap1'>
<!--  Copyright (c) 1986, University of Utah
 Template man page.  Taken from wtm's page for getcx3d -->
<refmeta>
<refentrytitle>RLELDMAP</refentrytitle>
<manvolnum>1</manvolnum>
<refmiscinfo class='source'>Nov 12, 1986</refmiscinfo>
<refmiscinfo class='manual'>1</refmiscinfo>
</refmeta>
<refnamediv>
<refname>rleldmap</refname>
<refpurpose>Load a new color map into an RLE file</refpurpose>
</refnamediv>
<!-- body begins here -->
<refsynopsisdiv xml:id='synopsis'>
<cmdsynopsis>
  <command>rleldmap</command>    
    <arg choice='opt'><arg choice='plain'>- </arg><arg choice='opt'><replaceable>ab</replaceable></arg></arg>
    <arg choice='opt'><arg choice='plain'>-n </arg><arg choice='plain'><replaceable>nchan</replaceable></arg><arg choice='plain'><replaceable>length</replaceable></arg></arg>
    <arg choice='opt'><arg choice='plain'>-s </arg><arg choice='plain'><replaceable>bits</replaceable></arg></arg>
    <arg choice='opt'><arg choice='plain'>-l </arg><arg choice='opt'><replaceable>factor</replaceable></arg></arg>
    <arg choice='opt'><arg choice='plain'>-g </arg><arg choice='plain'><replaceable>gamma</replaceable></arg></arg>
    <arg choice='opt'><arg choice='plain'>- </arg><arg choice='opt'><replaceable>tf</replaceable></arg><arg choice='plain'><replaceable>file</replaceable></arg></arg>
    <arg choice='opt'><arg choice='plain'>-m </arg><arg choice='plain' rep='repeat'><replaceable>files</replaceable></arg></arg>
    <arg choice='opt'><arg choice='plain'>-r </arg><arg choice='plain'><replaceable>rlefile</replaceable></arg></arg>
    <arg choice='opt'><arg choice='plain'>-o </arg><arg choice='plain'><replaceable>outfile</replaceable></arg></arg>
    <arg choice='opt'><replaceable>infile</replaceable></arg>
</cmdsynopsis>
</refsynopsisdiv>


<refsect1 xml:id='description'><title>DESCRIPTION</title>
<para>The program will load a specified color map into an
<citerefentry><refentrytitle>RLE</refentrytitle><manvolnum>5</manvolnum></citerefentry>
file.  The color map may be computed by
<command>rleldmap</command>
or loaded from a file in one of several formats.  The input is read from
<emphasis remap='I'>infile</emphasis>
or stdin if no file is given, and the result is written to
<emphasis remap='I'>outfile</emphasis>
or stdout.</para>

<para>The following terms are used in the description of the program and its options:</para>
<variablelist remap='TP'>
  <varlistentry>
  <term>input map:</term>
  <listitem>
<para>A color map already in the input RLE file.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term>applied map:</term>
  <listitem>
<para>The color map specified by the arguments to
<command>rleldmap</command>.
This map will be applied to or will replace the input map to produce
the output map.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term>output map:</term>
  <listitem>
<para>Unless
<option>-a</option>
or
<option>-b</option>
is specified, this is equal to the applied map.  Otherwise it will be
the composition of the input and applied maps.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term>map composition:</term>
  <listitem>
<para>If the applied map is composed
<emphasis remap='I'>after</emphasis>
the input map, then the output map will be
<emphasis remap='I'>applied map</emphasis>[<emphasis remap='I'>input map</emphasis>].
Composing the applied map before the input map produces an output map
equal to
<emphasis remap='I'>input map</emphasis>[<emphasis remap='I'>applied map</emphasis>].
The maps being composed must either have the same number of channels,
or one of them must have only one channel.  If an entry in the map
being used as a subscript is larger than the length of the map being
subscripted, the output value is equal to the subscript value.
The output map will be the same
length as the subscript map and will have the number of channels that
is the larger of the two.  If the input map is used as a subscript, it
will be downshifted the correct number of bits to serve as a subscript
for the applied map (since the color map in an
<citerefentry><refentrytitle>RLE</refentrytitle><manvolnum>5</manvolnum></citerefentry>
file is always stored left justified in 16 bit words).  This also
applies to the applied map if it is taken from an
<citerefentry><refentrytitle>RLE</refentrytitle><manvolnum>5</manvolnum></citerefentry>
file
(<option>-r</option>
option below).  Note that if there is no input map, that the result of
composition will be exactly the applied map.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term>nchan:</term>
  <listitem>
<para>The number of separate lookup tables (channels) making up the color
map.  This defaults to 3.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term>length:</term>
  <listitem>
<para>The number of entries in each channel of the color map.  The default
is 256.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term>bits:</term>
  <listitem>
<para>The size of each color map entry in bits.  The default value is the
log base 2 of the length.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term>range:</term>
  <listitem>
<para>The maximum value of a color map entry, equal to 2**bits - 1.</para>
  </listitem>
  </varlistentry>
</variablelist>
</refsect1>

<refsect1 xml:id='options'><title>OPTIONS</title>
<variablelist remap='TP'>
  <varlistentry>
  <term><option>-a</option></term>
  <listitem>
<para>Compose the applied map
<emphasis remap='I'>after</emphasis>
the input map.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>-b</option></term>
  <listitem>
<para>Compose the applied map
<emphasis remap='I'>before</emphasis>
the input map.  Only one of
<option>-a</option>
or
<option>-b</option>
may be specified.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>-n</option><replaceable> nchan length</replaceable></term>
  <listitem>
<para>Specify the size of the applied map if it is not 3x256.  The
<emphasis remap='I'>length</emphasis>
should be a power of two, and will be rounded up if necessary.  If
applying the map
<emphasis remap='I'>nchan</emphasis>
must be either 1 or equal to the number of channels in the input map.
It may have any value if the input map has one channel or is not
present.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>-s</option><replaceable> bits</replaceable></term>
  <listitem>
<para>Specify the size in bits of the color map entries.  I.e., only the top
<emphasis remap='I'>bits</emphasis>
bits of each color map entry will be set.</para>

<para>Exactly one of the options
<option>-l</option>,
<option>-g</option>,
<option>-t</option>,
<option>-f</option>,
<option>-m</option>,
or
<option>-r</option>,
must be specified.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>-l</option><replaceable> factor</replaceable></term>
  <listitem>
<para>Generate a linear applied map with the
<emphasis remap='I'>nth</emphasis>
entry equal to
<!-- .br -->
<emphasis remap='I'>		range * min(1.0, factor*(n/(length-1)))</emphasis>.
<!-- .br -->
<emphasis remap='I'>Factor</emphasis>
defaults to 1.0 if not specified.  Negative values of
<emphasis remap='I'>factor</emphasis>
will generate a map with values equal to
<!-- .br -->
<emphasis remap='I'>		range * max(0.0, 1.0 - factor*(n/(length-1)))</emphasis>.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>-g</option><replaceable> gamma</replaceable></term>
  <listitem>
<para>Generate an applied map to compensate for a display
with the given gamma.  The
<emphasis remap='I'>nth</emphasis>
entry is equal to
<!-- .br -->
<emphasis remap='I'>		range * (n/(length-1))**(1/gamma)</emphasis>.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>-t</option><replaceable> file</replaceable></term>
  <listitem>
<para>Read color map entries from a table in a text file.  The values for each
channel of a particular entry follow each other in the file.  Thus,
for an RGB color map, the file would look like:
<!-- .br -->
		red0	green0	blue0
<!-- .br -->
		red1	green1	blue1
<!-- .br -->
		...	...	...
<!-- .br -->
Line breaks in the input file are irrelevant.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>-f</option><replaceable> file</replaceable></term>
  <listitem>
<para>Reads the applied map from a text file, with all the entries for each
channel following each other.  Thus, the input file above would appear
as
<!-- .br -->
		red0 red1 red2 ... (<emphasis remap='I'>length</emphasis> values)
<!-- .br -->
		green0 green1 green2 ... (<emphasis remap='I'>length</emphasis> values)
<!-- .br -->
		blue0 blue1 blue2 ... (<emphasis remap='I'>length</emphasis> values)
<!-- .br -->
As above, line breaks are irrelevant.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>-m</option><replaceable> files ...</replaceable></term>
  <listitem>
<para>Read the color map for each channel from a separate file.  The number
of files specified must equal the number of channels in the applied
map.  (Note: the list of files must be followed by another flag
argument or by the null flag
<option>--</option>
to separate it from the
<emphasis remap='I'>infile</emphasis>
specification.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>-o</option><replaceable> outfile</replaceable></term>
  <listitem>
<para>The output will be written to the file
<emphasis remap='I'>outfile</emphasis>
if this option is specified.  Otherwise the output will go to <emphasis remap='I'>stdout</emphasis>.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><emphasis remap='I'>infile</emphasis></term>
  <listitem>
<para>The input will be taken from this file if specified.  Otherwise, the
input will be read from <emphasis remap='I'>stdin</emphasis>.</para>
  </listitem>
  </varlistentry>
</variablelist>
</refsect1>

<refsect1 xml:id='see_also'><title>SEE ALSO</title>
<para><citerefentry><refentrytitle>applymap</refentrytitle><manvolnum>1</manvolnum></citerefentry>,
<citerefentry><refentrytitle>urt</refentrytitle><manvolnum>1</manvolnum></citerefentry>,
<citerefentry><refentrytitle>RLE</refentrytitle><manvolnum>5</manvolnum></citerefentry>.</para>
</refsect1>

<refsect1 xml:id='author'><title>AUTHOR</title>
<para>Spencer W. Thomas, University of Utah</para>
</refsect1>
</refentry>

