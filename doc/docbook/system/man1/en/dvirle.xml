<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- lifted from troff+man by doclifter -->
<refentry xmlns='http://docbook.org/ns/docbook' version='5.0' xml:lang='en' xml:id='dvirle1'>
<refmeta>
<refentrytitle>DVIRLE</refentrytitle>
<manvolnum>1</manvolnum>
<refmiscinfo class='source'>May 12, 1987</refmiscinfo>
<refmiscinfo class='manual'>1</refmiscinfo>
</refmeta>
<refnamediv>
<refname>dvirle</refname>
<refpurpose>convert dvi version 2 files, produced by TeX82, to RLE images</refpurpose>
</refnamediv>
<!-- body begins here -->
<refsynopsisdiv xml:id='synopsis'>
<cmdsynopsis>
  <command>dvirle</command>    
    <arg choice='opt'><arg choice='plain'>-m </arg><arg choice='plain'><replaceable>number</replaceable></arg></arg>
    <arg choice='opt'>-h </arg>
    <arg choice='opt'>-s </arg>
    <arg choice='opt'><arg choice='plain'>-d </arg><arg choice='plain'><replaceable>number</replaceable></arg></arg>
    <arg choice='opt'><arg choice='plain'>-x </arg><arg choice='plain'><replaceable>xfilter</replaceable></arg></arg>
    <arg choice='opt'><arg choice='plain'>-y </arg><arg choice='plain'><replaceable>yfilter</replaceable></arg></arg>
    <arg choice='plain'><replaceable>infile.dvi</replaceable></arg>
</cmdsynopsis>
</refsynopsisdiv>


<refsect1 xml:id='description'><title>DESCRIPTION</title>
<para><emphasis remap='I'>Dvirle</emphasis>
converts .dvi files produced by
<citerefentry><refentrytitle>TeX</refentrytitle><manvolnum>1</manvolnum></citerefentry>
to
<citerefentry><refentrytitle>RLE</refentrytitle><manvolnum>5</manvolnum></citerefentry>
format.  The basic process involves two passes.  In the first
pass, the .dvi file is converted into a list of characters.
The second pass takes this list and converts it to
<emphasis remap='I'>RLE</emphasis>.
The image is filtered to produce gray-scale letters.  300dpi fonts are
used, producing an unfiltered page size of approximately 2500*3500
pixels.  The default is to average this by 5 pixels in the X direction
and 5 in the Y, producing a 510*708 image.  The filtering parameters can be
altered with the
<option>-x</option>
and
<option>-y</option>
flags.</para>

<para>The
<option>-m</option>
<replaceable>number</replaceable>
option is used to change the device magnification (which is in addition to
any magnification defined in the TeX source file).
<emphasis remap='I'>Number</emphasis>
should be replaced by an integer which is 1000 times the magnification
you want.
for example,
<option>-m 1315</option>
would produce output magnified to 131.5% of true size.  The default is
no magnification (1000).  Note, however, that a site will only
support particular magnifications.  If you get error messages indicating that
fonts are missing when using this option, you probably have picked an
unsupported magnification.</para>

<para>The
<option>-h</option>
flag, when
supplied, causes the image to be converted "on its side" (rotated by
90 degrees).</para>

<para>Normally the first pass prints the page numbers from the .dvi file.  The
<option>-s</option>
flag suppresses these.</para>

<para>The default
<emphasis remap='I'>maxdrift</emphasis>
parameter is 2 pixels (1/100th of an inch); the
<option>-d</option>
option may be used to alter this.  The
<emphasis remap='I'>maxdrift</emphasis>
parameter determines just how much font spacing is allowed to
influence character positioning.  The default value 2 allows a small
amount of variation within words without allowing any letters to
become too far out of position.</para>

<para>The output file contains a number of separate
<emphasis remap='I'>RLE</emphasis>
images concatenated, one for each page in the input.  These can be
separated with
<citerefentry><refentrytitle>rlesplit</refentrytitle><manvolnum>1</manvolnum></citerefentry>.
The output images have a single image channel and
an identical "alpha" channel.  For compositing with a colored
background, it will be necessary to use
<citerefentry><refentrytitle>rleswap</refentrytitle><manvolnum>1</manvolnum></citerefentry>
to expand it to 3 color channels.</para>

<para>The shell script
<emphasis remap='I'>topcrop</emphasis>
will crop off the top 384 lines of the output image (assuming the
default <emphasis remap='I'>LaTeX</emphasis> page size and <command>dvirle</command> filtering parameters),
making it suitable for viewing on a (384*512) frame buffer.</para>
<literallayout remap='.nf'>
    topcrop &lt;file.rle &gt;cropfile.rle
</literallayout> <!-- .fi -->

<para>A better solution is to use something like the following <emphasis remap='I'>LaTeX</emphasis>
macros to set the page size so that, with the default filter
parameters, the output images will be 510*384.</para>
<informaltable pgwide='0' frame='none'>
  <tgroup cols='2' align='center'>
    <colspec colname='c1'/>
    <colspec colname='c2'/>
    <tbody>
      <row>
        <entry align='left'>\newcommand{\maxpage}{</entry>
        <entry align='left'>%% Make page as large as possible</entry>
      </row>
      <row>
        <entry align='left'></entry>
        <entry align='left'>\setlength{\topmargin}{0in}</entry>
      </row>
      <row>
        <entry align='left'></entry>
        <entry align='left'>\setlength{\oddsidemargin}{0pt}</entry>
      </row>
      <row>
        <entry align='left'></entry>
        <entry align='left'>\setlength{\evensidemargin}{0pt}</entry>
      </row>
      <row>
        <entry align='left'></entry>
        <entry align='left'>\setlength{\marginparwidth}{0pt}</entry>
      </row>
      <row>
        <entry align='left'></entry>
        <entry align='left'>\setlength{\marginparsep}{0pt}</entry>
      </row>
      <row>
        <entry align='left'></entry>
        <entry align='left'>\setlength{\headheight}{0pt}</entry>
      </row>
      <row>
        <entry align='left'></entry>
        <entry align='left'>\setlength{\headsep}{0pt}</entry>
      </row>
      <row>
        <entry align='left'></entry>
        <entry align='left'>\setlength{\textwidth}{6.5in}}</entry>
      </row>
      <row>
        <entry align='left'>\newcommand{\plainpage}{</entry>
        <entry align='left'>%% Page with space for headers</entry>
      </row>
      <row>
        <entry align='left'></entry>
        <entry align='left'>\pagestyle{plain}</entry>
      </row>
      <row>
        <entry align='left'></entry>
        <entry align='left'>\setlength{\textheight}{4.0667in}</entry>
      </row>
      <row>
        <entry align='left'></entry>
        <entry align='left'>\setlength{\footheight}{12pt}</entry>
      </row>
      <row>
        <entry align='left'></entry>
        <entry align='left'>\setlength{\footskip}{24pt}</entry>
      </row>
      <row>
        <entry align='left'></entry>
        <entry align='left'>\maxpage}</entry>
      </row>
    </tbody>
  </tgroup>
</informaltable>



<para>\newcommand{\headingspage}{	%% Page with headers
	\pagestyle{headings}
	\setlength{\textheight}{4.0667in}
	\setlength{\footheight}{12pt}
	\setlength{\footskip}{24pt}
	\maxpage}
\newcommand{\emptypage}{	%% Page with no headers
	\pagestyle{empty}
	\setlength{\textheight}{4.4in}
	\setlength{\footheight}{0pt}
	\setlength{\footskip}{0pt}
	\maxpage}</para>
</refsect1>

<refsect1 xml:id='files'><title>FILES</title>
<para><emphasis remap='I'>dvirle1</emphasis>    first pass
<!-- .br -->
<emphasis remap='I'>dvirle2</emphasis>    second pass</para>
</refsect1>

<refsect1 xml:id='see_also'><title>SEE ALSO</title>
<!-- .na -->
<para><citerefentry><refentrytitle>rleflip</refentrytitle><manvolnum>1</manvolnum></citerefentry>,
<citerefentry><refentrytitle>rlesplit</refentrytitle><manvolnum>1</manvolnum></citerefentry>,
<citerefentry><refentrytitle>rleswap</refentrytitle><manvolnum>1</manvolnum></citerefentry>,
<citerefentry><refentrytitle>urt</refentrytitle><manvolnum>1</manvolnum></citerefentry>,
<citerefentry><refentrytitle>RLE</refentrytitle><manvolnum>5</manvolnum></citerefentry>.</para>
<!-- .ad b -->
</refsect1>

<refsect1 xml:id='author'><title>AUTHOR</title>
<para>The original (Versatec) version was written by Janet Incerpi of Brown
University.  Richard Furuta and Carl Binding of the University of
Washington modified the programs for DVI version 2 files.  Chris Torek
of the University of Maryland rewrote both passes in order to make
them run at reasonable speeds.  Spencer W. Thomas of the University of
Utah converted it to produce RLE images as output.</para>
</refsect1>

<refsect1 xml:id='bugs'><title>BUGS</title>
<para>The <option>-h</option> option doesn't work properly.  Use
<citerefentry><refentrytitle>rleflip</refentrytitle><manvolnum>1</manvolnum></citerefentry>
instead.</para>

<para>Truncates pages wider than 2550 pixels (8.5 inches).</para>

<para>Doesn't handle missing fonts gracefully.</para>

<para>Should be a single program, instead of a shell script and two
programs.  Doesn't use the usual RLE argument and file name
conventions.  Should output the TeX page numbers as picture comments.</para>
</refsect1>
</refentry>

