<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- lifted from troff+man by doclifter -->
<refentry xmlns='http://docbook.org/ns/docbook' version='5.0' xml:lang='en' xml:id='pyrmask1'>
<!--  Copyright (c) 1986, University of Utah -->
<refmeta>
<refentrytitle>PYRMASK</refentrytitle>
<manvolnum>1</manvolnum>
<refmiscinfo class='source'>Nov 8, 1987</refmiscinfo>
<refmiscinfo class='manual'>1</refmiscinfo>
</refmeta>
<refnamediv>
<refname>pyrmask</refname>
<refpurpose>Blend two images together using Gaussian pyramids.</refpurpose>
</refnamediv>
<!-- body begins here -->
<refsynopsisdiv xml:id='synopsis'>
<cmdsynopsis>
  <command>pyrmask</command>    
    <arg choice='opt'><arg choice='plain'>-l </arg><arg choice='plain'><replaceable>levels</replaceable></arg></arg>
    <arg choice='opt'><arg choice='plain'>-o </arg><arg choice='plain'><replaceable>outfile</replaceable></arg></arg>
    <arg choice='plain'><replaceable>inmask</replaceable></arg>
    <arg choice='plain'><replaceable>outmask</replaceable></arg>
    <arg choice='plain'><replaceable>maskfile</replaceable></arg>
</cmdsynopsis>
</refsynopsisdiv>


<refsect1 xml:id='description'><title>DESCRIPTION</title>
<para><emphasis remap='I'>Pyrmask</emphasis>
blends two images together by first breaking the images down into
separate bandpass images, combining these separate images, and then adding
the new bandpass images back into a single output image.  This can produce
very seamless blends of digital images.  The two images
are combined on the basis of a third "mask" image.  The resulting image
will contain the
<emphasis remap='I'>inmask</emphasis>
image where the mask contains a maximum value (255) and the
<emphasis remap='I'>outmask</emphasis>
image where the mask contains zeros.  This is done on a channel by channel
basis, i.e. the maskfile should have data in each channel describing how
to combine each channel of the
<emphasis remap='I'>inmask</emphasis>
and
<emphasis remap='I'>outmask</emphasis>
images.  All three images
must have exactly the same dimensions (both image size and number of channels).
For best results, it's often useful to filter the mask image a little with
<citerefentry><refentrytitle>smush</refentrytitle><manvolnum>1</manvolnum></citerefentry>
first.</para>
</refsect1>

<refsect1 xml:id='options'><title>OPTIONS</title>
<variablelist remap='TP'>
  <varlistentry>
  <term><option>-l</option><replaceable> levels</replaceable></term>
  <listitem>
<para>How many pyramid levels to use (maximum is log(2) of image size).</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>-o</option><replaceable> outfile</replaceable></term>
  <listitem>
<para>If specified, output will be written to this file, otherwise it will
go to stdout.</para>
  </listitem>
  </varlistentry>
</variablelist>
</refsect1>

<refsect1 xml:id='see_also'><title>SEE ALSO</title>
<para><citerefentry><refentrytitle>smush</refentrytitle><manvolnum>1</manvolnum></citerefentry>,
<citerefentry><refentrytitle>rleswap</refentrytitle><manvolnum>1</manvolnum></citerefentry>,
<citerefentry><refentrytitle>urt</refentrytitle><manvolnum>1</manvolnum></citerefentry>,
<citerefentry><refentrytitle>RLE</refentrytitle><manvolnum>5</manvolnum></citerefentry>,
<!-- .br -->
Burt and Adelson, "A Multiresolution Spline With Applications to Image
Mosaics", <emphasis remap='I'>ACM Transactions on Graphics</emphasis>, October 1983, V2 #4, p. 217.
<!-- .br -->
Ogden, Adelson, Bergen and Burt, "Pyramid-based Computer Graphics", <emphasis remap='I'>RCA
Engineer</emphasis>, Sept/Oct 1985, p. 4.</para>
</refsect1>

<refsect1 xml:id='author'><title>AUTHOR</title>
<para>Rod Bogart</para>
</refsect1>

<refsect1 xml:id='bugs'><title>BUGS</title>
<para>The current implementation has very
strict requirements for image sizes and dimensions.  The extensive
use of floating point computation makes it very slow for normal sized
images.  It also keeps all of the bandpass images in core at
once, which requires considerable amounts of memory.</para>

<para>Pyrmask is built on top of a library of functions for working with
Gaussian pyramids.  This library has yet to be documented or fully
tested.</para>
</refsect1>
</refentry>

